@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@section Styles {
    <link rel="stylesheet" href="~/css/dashboar.css" />
}


<div class="dashboard">

    <h2 class="page-title">Dashboard</h2>

    <!-- Stats Cards -->
    <div class="stats-grid">
        <div class="stat-card purple">
            <div class="stat-title">Người dùng</div>
            <div class="stat-value">@ViewBag.TotalUsers</div>
        </div>

        <div class="stat-card blue">
            <div class="stat-title">Sản phẩm</div>
            <div class="stat-value">@ViewBag.TotalProducts</div>
        </div>

        <div class="stat-card orange">
            <div class="stat-title">Đơn hàng</div>
            <div class="stat-value">@ViewBag.TotalOrders</div>
        </div>

        <div class="stat-card red">
            <div class="stat-title">Doanh thu</div>
            <div class="stat-value">@((ViewBag.TotalRevenue ?? 0).ToString("N0"))₫</div>
        </div>
    </div>

    <!-- Brand + Product Lists -->
    <div class="grid-2">
        <div class="card">
            <h3>Thương hiệu bán chạy</h3>
            <ul class="list">
                @foreach (var b in ViewBag.TopBrands)
                {
                    <li><span>@b.Brand</span><span>@b.Count sản phẩm</span></li>
                }
            </ul>
        </div>

        <div class="card">
            <h3>Sản phẩm hot nhất</h3>
            <ul class="list">
                @foreach (var p in ViewBag.HotProducts)
                {
                    <li><span>@p.Product</span><span>@p.Quantity lượt mua</span></li>
                }
            </ul>
        </div>
    </div>

    <!-- Recent Orders -->
    <div class="card mt-20">
        <h3>Đơn hàng gần đây</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Mã đơn</th>
                    <th>Khách hàng</th>
                    <th>Ngày đặt</th>
                    <th>Tổng tiền</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var o in ViewBag.RecentOrders)
                {
                    <tr>
                        <td>#@o.OrderId</td>
                        <td>@o.Customer</td>
                        <td>@o.Date.ToString("dd/MM/yyyy")</td>
                        <td>@o.Amount.ToString("N0") ₫</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

</div>
